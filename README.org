* Introduction
- RgRef是一个文献管理器，使用Python语言编写，使用高效内容查询程序 **ripgrep** 搜索文献
- RgRef项目开发的起因
  - Linux系统下好用文献管理器较少
  - 基于数据库管理的文献管理器（如JabRef）查询大数据库速度较慢（无法忍受）
- RgRef在Debian Linux系统中开发和测试，其他类型操作系统未测试

* Installation
** Python
在PyCharm新建conda环境RgRef：
- conda activate RgRef
- pip install PyQt5 PyQtWebEngine requests nltk scikit-learn wordcloud pandas pdfplumber markdown markdown.extensions
** ripgrep
- sudo apt install ripgrep poppler-utils
** TTS: Kokoro-82M
Refer to [[https://huggingface.co/hexgrad/Kokoro-82M]]

- sudo apt install espeak-ng git-lfs sox lame sdcv
- conda activate RgRef
- pip install phonemizer torch transformers scipy munch kokoro soundfile

** nltk_data (optional, 暂时不用)
- corpora手工下载：https://github.com/nltk/nltk_data/tree/gh-pages
- 解压缩把packages目录链接到下面任一位置即可
  - $HOME/nltk_data
  - $DIR_PYTHON_BIN/../nltk_data
  - /usr/nltk_data
  - /usr/share/nltk_data
  - /usr/lib/nltk_data
  - /usr/share/nltk_data
  - /usr/local/share/nltk_data
  - /usr/lib/nltk_data
  - /usr/local/lib/nltk_data
* Features
- 文献在线查询（Pubmed）、本地文献导入（bibtex, springer csv）
- PDF全文、数据文件管理
- 文献阅读笔记（Markdown格式）
- PDF注释提取与浏览
- 选定文本查询（使用stardict和sdcv）与朗读
- 摘要朗读（使用Kokoro-82M模型）

* Problems
** fcitx输入法
若无法启动fcitx/fcitx5，可尝试：
- find `libfcitx5platforminputcontextplugin.so` in `/usr` with `fzf -e`
- copy or soft link this file to `lib/python3.1/site-packages/PyQt5/Qt5/plugins/platforminputcontexts/` in your python environment
** 中文朗读
- 除需选择 zf_*.pt 语音模型外，可能还需安装以下python模块
  - pip install pypinyin jieba cn2an ordered_set
